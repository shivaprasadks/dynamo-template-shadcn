# Truss

A comprehensive UI component library providing accessible, reusable, and customizable React components built with Radix UI primitives and Tailwind CSS.

[![Publish Package](https://github.com/ClearTax/truss/actions/workflows/publish-package.yml/badge.svg)](https://github.com/ClearTax/truss/actions/workflows/publish-package.yml)
[![Publish Storybook](https://github.com/ClearTax/truss/actions/workflows/publish-storybook.yml/badge.svg)](https://github.com/ClearTax/truss/actions/workflows/publish-storybook.yml)

## Overview

Truss is ClearTax's component library designed to provide a consistent design system across applications. It leverages the power of Radix UI for accessibility and Tailwind CSS for styling flexibility.

## Documentation

View the components in our Storybook:
- [Storybook Documentation](https://cleartax.github.io/truss/)

## Features

- ðŸŒŸ Built with React and TypeScript
- â™¿ï¸ Accessible components using Radix UI primitives
- ðŸŽ¨ Customizable styling with Tailwind CSS
- ðŸŒ™ Dark mode support
- ðŸ“± Responsive design
- ðŸš€ Modern animations and transitions
- ðŸŒ² Tree shaking support for optimized bundle size

## Installation

`@cleartax/truss` is available as a [GitHub package](https://github.com/ClearTax/truss/packages).

### GitHub Authentication Setup

Since this library is published on GitHub Packages, you need an access token from GitHub to install it:

1. Go to `Settings` > `Developer Settings` > `Personal access tokens` or click [here](https://github.com/settings/tokens)
2. Click on `Generate new token`, give a name to your token and check `read:packages` from the list of available scopes
3. Copy the newly generated token
4. Add this token in your global `~/.npmrc`:
   ```sh
   //npm.pkg.github.com/:_authToken=YOUR_ACCESS_TOKEN
   ```
5. In your local `.npmrc` add:
   ```sh
   @cleartax:registry=https://npm.pkg.github.com
   ```

### Installing the Package

```sh
# With npm
npm install --save-dev @cleartax/truss

# With yarn
yarn add -D @cleartax/truss
```

**Note:** The library has peer dependencies that you need to install:

```sh
# With npm
npm install --save react react-dom

# With yarn
yarn add react react-dom
```

## Usage

Import components and styles:

```jsx
// Import styles
import '@cleartax/truss/index.css';

// Import components
import { Button } from '@cleartax/truss/button';
import { Card } from '@cleartax/truss/card';

// Use in your React component
function MyComponent() {
  return (
    <Card>
      <h2>Hello World</h2>
      <Button>Click Me</Button>
    </Card>
  );
}
```

### Tailwind CSS Integration

Truss now includes pre-compiled Tailwind CSS styles, making it easier to use in your projects. Simply import the CSS:

```css
/* Import Truss CSS (includes all Tailwind classes used by Truss) */
@import '@cleartax/truss/index.css';

/* Your project's Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;
```

This approach ensures that all Tailwind classes used in Truss components (including arbitrary classes) are available in your project without requiring additional configuration.

For more detailed information about using Tailwind CSS with Truss, including alternative configuration options, troubleshooting, and advanced usage, see [TAILWIND_USAGE.md](./TAILWIND_USAGE.md).

## Development

### Building the Project

```sh
yarn build
```

### Running Storybook Locally

```sh
yarn storybook
```

### Testing

```sh
yarn test        # Run tests once
yarn test:watch  # Run tests in watch mode
yarn test:coverage # Run tests with coverage report
```

## Contributing

1. Clone the repository
2. Install dependencies with `yarn`
3. Run Storybook using `yarn storybook`
4. Generate a new component by running `yarn generate COMPONENT_NAME` or just `yarn generate` and follow the prompts
5. Add relevant stories for your component in the `stories/` directory
6. Run tests with `yarn test:watch`
7. Commit code with `yarn commit` to get prompts for conventional commits
8. Create a PR against `main`
9. Make sure your changes are deployed on `gh-pages` by checking the [Publish Storybook workflow](https://github.com/ClearTax/truss/actions/workflows/publish-storybook.yml)

### Working with a Local Project

To test Truss in a local project:

1. Clone the repo and install dependencies with `yarn`
2. Run `yarn link` to link the repo locally
3. Run `yarn dev` to build the library in watch mode
4. In your project:
   - If you already had the library installed, remove it
   - Link to your local version with `yarn link @cleartax/truss`
5. You should see changes made to `@cleartax/truss` reflected in your project
6. After the package is published, unlink it with `yarn unlink @cleartax/truss` in your app

### Adding SVG Icons

See the [developer documentation](https://github.com/ClearTax/truss/blob/main/DEVELOPERS.md#adding-icons) for details on adding icons.

## Release Process

The release process is automated through GitHub Actions:

1. Merge your feature branch to `main`
2. The [Publish Package workflow](https://github.com/ClearTax/truss/actions/workflows/publish-package.yml) will automatically:
   - Bump the version according to conventional commits
   - Publish the package to GitHub Packages
   - Create a new release

## Project Structure

```
truss/
â”œâ”€â”€ .github/workflows/    # GitHub Actions workflows
â”œâ”€â”€ .storybook/           # Storybook configuration
â”œâ”€â”€ public/               # Static assets
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/ui/    # UI components
â”‚   â”œâ”€â”€ hooks/            # React hooks
â”‚   â”œâ”€â”€ lib/              # Utility functions
â”‚   â”œâ”€â”€ styles/           # Global styles
â”‚   â””â”€â”€ theme/            # Theme configuration
â”œâ”€â”€ stories/              # Storybook stories
â””â”€â”€ test/                 # Tests
```

## License

MIT
